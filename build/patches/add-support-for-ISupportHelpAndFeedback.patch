From: uazo <uazo@users.noreply.github.com>
Date: Tue, 15 Jun 2021 12:37:58 +0000
Subject: add-support-for-ISupportHelpAndFeedback

---
 .../chrome/browser/settings/SettingsActivity.java      | 10 +++++++---
 .../components/browser_ui/settings/SettingsUtils.java  |  4 ++++
 2 files changed, 11 insertions(+), 3 deletions(-)

diff --git a/chrome/android/java/src/org/chromium/chrome/browser/settings/SettingsActivity.java b/chrome/android/java/src/org/chromium/chrome/browser/settings/SettingsActivity.java
--- a/chrome/android/java/src/org/chromium/chrome/browser/settings/SettingsActivity.java
+++ b/chrome/android/java/src/org/chromium/chrome/browser/settings/SettingsActivity.java
@@ -281,9 +281,13 @@ public class SettingsActivity extends ChromeBaseAppCompatActivity
             finish();
             return true;
         } else if (item.getItemId() == R.id.menu_id_general_help) {
-            HelpAndFeedbackLauncherImpl.getInstance().show(this,
-                    getString(R.string.help_context_settings), Profile.getLastUsedRegularProfile(),
-                    null);
+            if (mainFragment instanceof SettingsUtils.ISupportHelpAndFeedback) {
+                ((SettingsUtils.ISupportHelpAndFeedback)mainFragment).onHelpAndFeebackPressed();
+            } else {
+                HelpAndFeedbackLauncherImpl.getInstance().show(this,
+                        getString(R.string.help_context_settings), Profile.getLastUsedRegularProfile(),
+                        null);
+            }
             return true;
         }
         return super.onOptionsItemSelected(item);
diff --git a/components/browser_ui/settings/android/java/src/org/chromium/components/browser_ui/settings/SettingsUtils.java b/components/browser_ui/settings/android/java/src/org/chromium/components/browser_ui/settings/SettingsUtils.java
--- a/components/browser_ui/settings/android/java/src/org/chromium/components/browser_ui/settings/SettingsUtils.java
+++ b/components/browser_ui/settings/android/java/src/org/chromium/components/browser_ui/settings/SettingsUtils.java
@@ -45,6 +45,10 @@ public class SettingsUtils {
         }
     }
 
+    public interface ISupportHelpAndFeedback {
+        void onHelpAndFeebackPressed();
+    }
+
     /**
      * Returns a view tree observer to show the shadow if and only if the view is scrolled.
      * @param view   The view whose scroll will be detected to determine the shadow's visibility.
-- 
2.17.1

