From: csagan5 <32685696+csagan5@users.noreply.github.com>
Date: Sat, 7 Jan 2023 11:25:40 +0100
Subject: build: include machine_learning only with tflite_lib

License: GPL-3.0-only - https://spdx.org/licenses/GPL-3.0-only.html
---
 components/optimization_guide/core/BUILD.gn | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/components/optimization_guide/core/BUILD.gn b/components/optimization_guide/core/BUILD.gn
--- a/components/optimization_guide/core/BUILD.gn
+++ b/components/optimization_guide/core/BUILD.gn
@@ -77,12 +77,14 @@ static_library("model_executor") {
   }
   deps = [
     ":features",
-    ":machine_learning",
     "//base",
     "//components/optimization_guide/proto:optimization_guide_proto",
     "//net",
     "//url",
   ]
+  if (build_with_tflite_lib) {
+    deps += [ ":machine_learning", ]
+  }
 }
 
 mojom("interfaces") {
--
2.25.1
